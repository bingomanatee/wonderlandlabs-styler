(function(c,s){typeof exports=="object"&&typeof module<"u"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(c=typeof globalThis<"u"?globalThis:c||self,s(c.MyLib={}))})(this,function(c){"use strict";var gt=Object.defineProperty;var ht=(c,s,a)=>s in c?gt(c,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[s]=a;var p=(c,s,a)=>ht(c,typeof s!="symbol"?s+"":s,a);function s(e){return!!(e&&typeof e=="object")}function a(e){if(!s(e))return!1;const t=e;return!!("light"in t&&t.light||"dark"in t&&t.dark)}function w(e){if(!s(e))return!1;const t=e;return Array.from(Object.keys(t)).every(r=>typeof t[r]=="string"||typeof t[r]=="number"||a(t[r]))}const _=w;var M=typeof global=="object"&&global&&global.Object===Object&&global,x=typeof self=="object"&&self&&self.Object===Object&&self,S=M||x||Function("return this")(),l=S.Symbol,d=Object.prototype,A=d.hasOwnProperty,k=d.toString,u=l?l.toStringTag:void 0;function E(e){var t=A.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch{}var i=k.call(e);return n&&(t?e[u]=r:delete e[u]),i}var F=Object.prototype,L=F.toString;function C(e){return L.call(e)}var K="[object Null]",V="[object Undefined]",j=l?l.toStringTag:void 0;function I(e){return e==null?e===void 0?V:K:j&&j in Object(e)?E(e):C(e)}function O(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var J="[object AsyncFunction]",R="[object Function]",z="[object GeneratorFunction]",G="[object Proxy]";function q(e){if(!O(e))return!1;var t=I(e);return t==R||t==z||t==J||t==G}var g=S["__core-js_shared__"],v=function(){var e=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function D(e){return!!v&&v in e}var H=Function.prototype,N=H.toString;function U(e){if(e!=null){try{return N.call(e)}catch{}try{return e+""}catch{}}return""}var Z=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,Q=Function.prototype,W=Object.prototype,X=Q.toString,Y=W.hasOwnProperty,tt=RegExp("^"+X.call(Y).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function et(e){if(!O(e)||D(e))return!1;var t=q(e)?tt:B;return t.test(U(e))}function rt(e,t){return e==null?void 0:e[t]}function nt(e,t){var r=rt(e,t);return et(r)?r:void 0}var T=function(){try{var e=nt(Object,"defineProperty");return e({},"",{}),e}catch{}}();function it(e,t,r){t=="__proto__"&&T?T(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function st(e,t){return e===t||e!==e&&t!==t}var ot=Object.prototype,ct=ot.hasOwnProperty;function at(e,t,r){var n=e[t];(!(ct.call(e,t)&&st(n,r))||r===void 0&&!(t in e))&&it(e,t,r)}function ft(e,t,r){for(var n=-1,i=e.length,o=t.length,f={};++n<i;){var b=n<o?t[n]:void 0;r(f,e[n],b)}return f}function ut(e,t){return ft(e||[],t||[],at)}const m=new Map([["appearance",8],["variant",4]]);function P(e){return Array.from(Object.keys(e)).length}class ${constructor(t,r){this.style=t,this.attrs=r}noExtraKeys(t){return Array.from(Object.keys(t)).every(r=>r in this.attrs)}get attrCount(){return P(this.attrs)}isLessSpecific(t){return this.noExtraKeys(t)&&this.attrCount>P(t)}isLessSpecificMatch(t){return this.isLessSpecific(t)&&Object.keys(t).every(r=>this.attrs[r]===t[r])}get specificity(){let t=0;for(const r of Object.keys(this.attrs))m.has(r)?t+=m.get(r):t+=1;return t}includesKeys(t){for(const r of Object.keys(this.attrs))if(!(r in t))return!1;return!0}matches(t){return this.noExtraKeys(t)&&this.includesKeys(t)&&Array.from(Object.keys(this.attrs)).every(r=>this.attrs[r]===t[r])}toJSON(){const t={style:{},attrs:{}};return Array.from(Object.keys(this.style)).sort().forEach(r=>{t.style[r]=this.style[r]}),Array.from(Object.keys(this.attrs)).sort().forEach(r=>{t.attrs[r]=this.attrs[r]}),t}toString(){return JSON.stringify(this.toJSON())}equals(t){return t.toString()===this.toString()}}const lt=Object.freeze(Object.defineProperty({__proto__:null,StylerStyle:$},Symbol.toStringTag,{value:"Module"})),y=class y{constructor(){p(this,"targetStyles",new Map)}add(t,r,n){const i=new $(r,n);this.targetStyles.has(t)?(this.targetStyles.get(t).some(o=>o.matches(n))&&console.warn("added multiple definitions for target",t,"attrs",n),this.targetStyles.get(t).push(i)):this.targetStyles.set(t,[i])}perfectMatches(t,r){if(!this.targetStyles.has(t))return[];const n=[];for(const i of this.targetStyles.get(t))i.matches(r)&&n.push(i);return n}lessSpecificStyles(t,r){return this.targetStyles.has(t)?this.targetStyles.get(t).filter(n=>n.isLessSpecificMatch(r)).sort((n,i)=>i.specificity-n.specificity):[]}for(t,r){const[n]=this.perfectMatches(t,r);return[...this.lessSpecificStyles(t,r).map(o=>o.style),n||{}].reduce((o,f)=>({...o,...f}),{})}addMany(t,r,n=[]){if(r.includes("target")||(r=[...r,"target"]),_(t)){const i=Math.min(r.length,n.length),o=ut(r.slice(0,i),n.slice(0,i));if(!("target"in o))return;const{target:f,...b}=o;this.add(f,t,b)}else for(const i of Object.keys(t)){const o=t[i];s(o)&&n.length<r.length&&this.addMany(o,r,[...n,i])}}};p(y,"Singleton",new y);let h=y;const yt=Object.freeze(Object.defineProperty({__proto__:null,Styler:h},Symbol.toStringTag,{value:"Module"}));c.Styler=yt,c.StylerStyle=lt,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});
